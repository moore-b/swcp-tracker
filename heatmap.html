<!-- calendar-heatmap-preview.html -->
<!DOCTYPE html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8" />
    <title>Calendar Heatmap Preview</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="tailwind.css" rel="stylesheet" />
    <style>
      /* three shades + “empty” color pulled from your palette */
      .heat-0 { @apply bg-gray-200 dark:bg-gray-700; }
      .heat-1 { @apply bg-emerald-200 dark:bg-emerald-700; }
      .heat-2 { @apply bg-emerald-400 dark:bg-emerald-600; }
      .heat-3 { @apply bg-emerald-600 dark:bg-emerald-500; }
      .heat-4 { @apply bg-emerald-800 dark:bg-emerald-400; }
      .heat-cell { width: 14px; height: 14px; }
    </style>
  </head>

  <body class="h-full bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 flex items-center justify-center p-6">
    <div>
      <h1 class="text-xl font-semibold mb-4 text-center">Activity Heatmap (Last 12 Months)</h1>
      <div id="heatmap" class="flex space-x-1 overflow-x-auto"></div>
    </div>

    <script>
      // ---------- generate sample data ----------
      const today = new Date();
      const data = {};
      for (let i = 0; i < 365; i++) {
        const d = new Date();
        d.setDate(today.getDate() - i);
        const key = d.toISOString().slice(0, 10);
        // random “activity count” 0-10
        data[key] = Math.random() > 0.2 ? Math.floor(Math.random() * 10) : 0;
      }

      // ---------- map value -> heat class ----------
      const scale = (val) => {
        if (val === 0) return "heat-0";
        if (val < 3) return "heat-1";
        if (val < 5) return "heat-2";
        if (val < 8) return "heat-3";
        return "heat-4";
      };

      // ---------- build 53 weekly columns ----------
      const container = document.getElementById("heatmap");
      for (let col = 52; col >= 0; col--) {
        const week = document.createElement("div");
        week.className = "flex flex-col space-y-1";
        for (let row = 0; row < 7; row++) {
          const cell = document.createElement("div");
          cell.className = "rounded heat-cell";
          const date = new Date();
          date.setDate(today.getDate() - (col * 7 + (6 - row)));
          const key = date.toISOString().slice(0, 10);
          cell.classList.add(scale(data[key] || 0));
          cell.title = `${key}: ${data[key] || 0} activities`;
          week.appendChild(cell);
        }
        container.appendChild(week);
      }
    </script>
  </body>
</html>